<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Render Raymesh — render_raymesh • rayshader</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Render Raymesh — render_raymesh"><meta property="og:description" content="Adds 3D raymesh model to the current scene, using latitude/longitude or coordinates in the reference
system defined by the extent object. If no altitude is provided, the raymesh will be elevated a constant offset
above the heightmap. If the raymesh goes off the edge, the raymesh will be filtered out.
If no latitudes or longitudes are passed in, the raymesh will be plotted in the coordinate system set by the user-specified
extent argument as-is. Use this alongside save_multipolygonz_to_obj() to plot 3D polygons imported from geospatial sources
in the proper location (but for ease of use, use render_multipolygonz() to plot this data directly)."><meta property="og:image" content="https://www.rayshader.com/reference/figures/website.jpg"><meta property="og:image:alt" content="Picture of a 3D map made with rayshader"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@tylermorganwall"><meta name="twitter:site" content="@tylermorganwall"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rayshader</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.39.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home"></span>

  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Tutorials/Blog Posts

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="https://www.tylermw.com/adding-open-street-map-data-to-rayshader-maps-in-r/" class="external-link">Tutorial: Adding Open Street Map Data to Rayshader Maps in R</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/a-step-by-step-guide-to-making-3d-maps-with-satellite-imagery-in-r/" class="external-link">A Step-by-Step Guide to Making 3D Maps with Satellite Imagery in R</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/3d-ggplots-with-rayshader/" class="external-link">Introducing 3D ggplots with rayshader</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/portrait-mode-data/" class="external-link">Portrait Mode for Data: Rayshader + Rayfocus</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/3d-printing-rayshader/" class="external-link">From R to Reality: 3D Printing Maps with Rayshader</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/3d-maps-with-rayshader/" class="external-link">Slicing Through Monterey Bay: Creating 3D Maps with Rayshader</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/making-beautiful-maps/" class="external-link">Draining Lake Mead: Making Beautiful Maps with Rayshader</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/throwing-shade/" class="external-link">Throwing Shade at the Cartographer Illuminati: Raytracing the Washington Monument in R</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>

    Changelog
  </a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>

    functions
  </a>
</li>
<li>
  <a href="https://github.com/tylermorganwall/rayshader" class="external-link">
    <span class="fa fa-github fa-lg"></span>

    GitHub
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Render Raymesh</h1>
    <small class="dont-index">Source: <a href="https://github.com/tylermorganwall/rayshader/blob/master/R/render_raymesh.R" class="external-link"><code>R/render_raymesh.R</code></a></small>
    <div class="hidden name"><code>render_raymesh.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Adds 3D raymesh model to the current scene, using latitude/longitude or coordinates in the reference
system defined by the extent object. If no altitude is provided, the raymesh will be elevated a constant offset
above the heightmap. If the raymesh goes off the edge, the raymesh will be filtered out.</p>
<p>If no latitudes or longitudes are passed in, the raymesh will be plotted in the coordinate system set by the user-specified
<code>extent</code> argument as-is. Use this alongside <code><a href="save_multipolygonz_to_obj.html">save_multipolygonz_to_obj()</a></code> to plot 3D polygons imported from geospatial sources
in the proper location (but for ease of use, use <code><a href="render_multipolygonz.html">render_multipolygonz()</a></code> to plot this data directly).</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">render_raymesh</span><span class="op">(</span></span>
<span>  <span class="va">raymesh</span>,</span>
<span>  extent <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  lat <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  long <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  altitude <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  xyz <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  zscale <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  heightmap <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  load_normals <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  change_material <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  color <span class="op">=</span> <span class="st">"grey50"</span>,</span>
<span>  offset <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  obj_zscale <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  swap_yz <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  angle <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>  scale <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  clear_previous <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  baseshape <span class="op">=</span> <span class="st">"rectangle"</span>,</span>
<span>  flat_shading <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  lit <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  light_altitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">45</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  light_direction <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">315</span>, <span class="fl">135</span><span class="op">)</span>,</span>
<span>  light_intensity <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  light_relative <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  rgl_tag <span class="op">=</span> <span class="st">""</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-raymesh">raymesh<a class="anchor" aria-label="anchor" href="#arg-raymesh"></a></dt>
<dd><p><code>raymesh</code> object (see the rayvertex package for a description)</p></dd>


<dt id="arg-extent">extent<a class="anchor" aria-label="anchor" href="#arg-extent"></a></dt>
<dd><p>Either an object representing the spatial extent of the scene
(either from the <code>raster</code>, <code>terra</code>, <code>sf</code>, or <code>sp</code> packages),
a length-4 numeric vector specifying <code>c("xmin", "xmax","ymin","ymax")</code>, or the spatial object (from
the previously aforementioned packages) which will be automatically converted to an extent object.</p></dd>


<dt id="arg-lat">lat<a class="anchor" aria-label="anchor" href="#arg-lat"></a></dt>
<dd><p>Vector of latitudes (or other coordinate in the same coordinate reference system as extent).</p></dd>


<dt id="arg-long">long<a class="anchor" aria-label="anchor" href="#arg-long"></a></dt>
<dd><p>Vector of longitudes (or other coordinate in the same coordinate reference system as extent).</p></dd>


<dt id="arg-altitude">altitude<a class="anchor" aria-label="anchor" href="#arg-altitude"></a></dt>
<dd><p>Default <code>NULL</code>. Elevation of each point, in units of the elevation matrix (scaled by <code>zscale</code>).
If left <code>NULL</code>, this will be just the elevation value at ths surface, offset by <code>offset</code>. If a single value,
the OBJ will be rendered at that altitude.</p></dd>


<dt id="arg-xyz">xyz<a class="anchor" aria-label="anchor" href="#arg-xyz"></a></dt>
<dd><p>Default <code>NULL</code>, ignored. A 3 column numeric matrix, with each row specifying the x/y/z
coordinates of the OBJ model(s). Overrides lat/long/altitude and ignores extent to plot the OBJ in raw rgl coordinates.</p></dd>


<dt id="arg-zscale">zscale<a class="anchor" aria-label="anchor" href="#arg-zscale"></a></dt>
<dd><p>Default <code>1</code>. The ratio between the x and y spacing (which are assumed to be equal) and the z axis in the original heightmap.</p></dd>


<dt id="arg-heightmap">heightmap<a class="anchor" aria-label="anchor" href="#arg-heightmap"></a></dt>
<dd><p>Default <code>NULL</code>. Automatically extracted from the rgl window–only use if auto-extraction
of matrix extent isn't working. A two-dimensional matrix, where each entry in the matrix is the elevation at that point.
All points are assumed to be evenly spaced.</p></dd>


<dt id="arg-load-normals">load_normals<a class="anchor" aria-label="anchor" href="#arg-load-normals"></a></dt>
<dd><p>Default <code>TRUE</code>. Whether to load normals for the 3D model.</p></dd>


<dt id="arg-change-material">change_material<a class="anchor" aria-label="anchor" href="#arg-change-material"></a></dt>
<dd><p>Default <code>TRUE</code>. Whether to change the raymesh material (to customize the color).</p></dd>


<dt id="arg-color">color<a class="anchor" aria-label="anchor" href="#arg-color"></a></dt>
<dd><p>Default <code>black</code>. Color of the 3D model, if <code>load_material = FALSE</code>.</p></dd>


<dt id="arg-offset">offset<a class="anchor" aria-label="anchor" href="#arg-offset"></a></dt>
<dd><p>Default <code>5</code>. Offset of the track from the surface, if <code>altitude = NULL</code>.</p></dd>


<dt id="arg-obj-zscale">obj_zscale<a class="anchor" aria-label="anchor" href="#arg-obj-zscale"></a></dt>
<dd><p>Default <code>FALSE</code>. Whether to scale the size of the OBJ by zscale to have it match
the size of the map. If zscale is very big, this will make the model very small.</p></dd>


<dt id="arg-swap-yz">swap_yz<a class="anchor" aria-label="anchor" href="#arg-swap-yz"></a></dt>
<dd><p>Default <code>NULL</code>, defaults to <code>FALSE</code> unless plotting raw coordinates (no lat or long passed).
Whether to swap and Y and Z axes. (Y axis is vertical in
rayshader coordinates, but data is often provided with Z being vertical).</p></dd>


<dt id="arg-angle">angle<a class="anchor" aria-label="anchor" href="#arg-angle"></a></dt>
<dd><p>Default <code>c(0,0,0)</code>. Angle of rotation around the x, y, and z axes. If this is a matrix or list,
each row (or list entry) specifies the rotation of the nth model specified (number of rows/length of list must
equal the length of <code>lat</code>/<code>long</code>).</p></dd>


<dt id="arg-scale">scale<a class="anchor" aria-label="anchor" href="#arg-scale"></a></dt>
<dd><p>Default <code>c(1,1,1)</code>. Amount to scale the 3D model in the x, y, and z axes. If this is a matrix or list,
each row (or list entry) specifies the scale of the nth model specified (number of rows/length of list must
equal the length of <code>lat</code>/<code>long</code>).</p></dd>


<dt id="arg-clear-previous">clear_previous<a class="anchor" aria-label="anchor" href="#arg-clear-previous"></a></dt>
<dd><p>Default <code>FALSE</code>. If <code>TRUE</code>, it will clear all existing points.</p></dd>


<dt id="arg-baseshape">baseshape<a class="anchor" aria-label="anchor" href="#arg-baseshape"></a></dt>
<dd><p>Default <code>rectangle</code>. Shape of the base. Options are <code>c("rectangle","circle","hex")</code>.</p></dd>


<dt id="arg-flat-shading">flat_shading<a class="anchor" aria-label="anchor" href="#arg-flat-shading"></a></dt>
<dd><p>Default <code>FALSE</code>. If <code>TRUE</code>, this will use rgl's flat shading.</p></dd>


<dt id="arg-lit">lit<a class="anchor" aria-label="anchor" href="#arg-lit"></a></dt>
<dd><p>Default <code>TRUE</code>. Whether to light the polygons.</p></dd>


<dt id="arg-light-altitude">light_altitude<a class="anchor" aria-label="anchor" href="#arg-light-altitude"></a></dt>
<dd><p>Default <code>c(45, 60)</code>. Degree(s) from the horizon from which to light the polygons.</p></dd>


<dt id="arg-light-direction">light_direction<a class="anchor" aria-label="anchor" href="#arg-light-direction"></a></dt>
<dd><p>Default <code>c(45, 60)</code>. Degree(s) from north from which to light the polygons.</p></dd>


<dt id="arg-light-intensity">light_intensity<a class="anchor" aria-label="anchor" href="#arg-light-intensity"></a></dt>
<dd><p>Default <code>0.3</code>. Intensity of the specular highlight on the polygons.</p></dd>


<dt id="arg-light-relative">light_relative<a class="anchor" aria-label="anchor" href="#arg-light-relative"></a></dt>
<dd><p>Default <code>FALSE</code>. Whether the light direction should be taken relative to the camera,
or absolute.</p></dd>


<dt id="arg-rgl-tag">rgl_tag<a class="anchor" aria-label="anchor" href="#arg-rgl-tag"></a></dt>
<dd><p>Default <code>""</code>. Tag to add to the rgl scene id, will be prefixed by <code>"objraymsh"</code></p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments to pass to <code><a href="https://dmurdoch.github.io/rgl/dev/reference/primitives.html" class="external-link">rgl::triangles3d()</a></code>.</p></dd>

</dl></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="run_documentation.html">run_documentation</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://www.tylermw.com" class="external-link">Tyler Morgan-Wall</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

      </footer></div>






  </body></html>

