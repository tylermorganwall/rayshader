<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Render Beveled Polygons — render_beveled_polygons • rayshader</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Render Beveled Polygons — render_beveled_polygons"><meta property="og:description" content="Adds beveled polygon to the scene using the raybevel package. See
the raybevel::generate_beveled_polygon() function for more information."><meta property="og:image" content="https://www.rayshader.com/reference/figures/website.jpg"><meta property="og:image:alt" content="Picture of a 3D map made with rayshader"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@tylermorganwall"><meta name="twitter:site" content="@tylermorganwall"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rayshader</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.40.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home"></span>

  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Tutorials/Blog Posts

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="https://www.tylermw.com/adding-open-street-map-data-to-rayshader-maps-in-r/" class="external-link">Tutorial: Adding Open Street Map Data to Rayshader Maps in R</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/a-step-by-step-guide-to-making-3d-maps-with-satellite-imagery-in-r/" class="external-link">A Step-by-Step Guide to Making 3D Maps with Satellite Imagery in R</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/3d-ggplots-with-rayshader/" class="external-link">Introducing 3D ggplots with rayshader</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/portrait-mode-data/" class="external-link">Portrait Mode for Data: Rayshader + Rayfocus</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/3d-printing-rayshader/" class="external-link">From R to Reality: 3D Printing Maps with Rayshader</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/3d-maps-with-rayshader/" class="external-link">Slicing Through Monterey Bay: Creating 3D Maps with Rayshader</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/making-beautiful-maps/" class="external-link">Draining Lake Mead: Making Beautiful Maps with Rayshader</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/throwing-shade/" class="external-link">Throwing Shade at the Cartographer Illuminati: Raytracing the Washington Monument in R</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>

    Changelog
  </a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>

    functions
  </a>
</li>
<li>
  <a href="https://github.com/tylermorganwall/rayshader" class="external-link">
    <span class="fa fa-github fa-lg"></span>

    GitHub
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Render Beveled Polygons</h1>
    <small class="dont-index">Source: <a href="https://github.com/tylermorganwall/rayshader/blob/master/R/render_beveled_polygons.R" class="external-link"><code>R/render_beveled_polygons.R</code></a></small>
    <div class="hidden name"><code>render_beveled_polygons.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Adds beveled polygon to the scene using the <code>raybevel</code> package. See
the <code><a href="http://www.raybevel.com/reference/generate_beveled_polygon.html" class="external-link">raybevel::generate_beveled_polygon()</a></code> function for more information.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">render_beveled_polygons</span><span class="op">(</span></span>
<span>  <span class="va">polygon</span>,</span>
<span>  <span class="va">extent</span>,</span>
<span>  material <span class="op">=</span> <span class="st">"grey"</span>,</span>
<span>  bevel_material <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  angle <span class="op">=</span> <span class="fl">45</span>,</span>
<span>  bevel_width <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  width_raw_units <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  bevel <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  zscale <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  bevel_height <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  base_height <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  raw_heights <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  raw_offsets <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  heights_relative_to_centroid <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  set_max_height <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  max_height <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  scale_all_max <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  data_column_top <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  data_column_bottom <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  heightmap <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  scale_data <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  holes <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  alpha <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  lit <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  flat_shading <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  light_altitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">45</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  light_direction <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">315</span>, <span class="fl">225</span><span class="op">)</span>,</span>
<span>  light_intensity <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  light_relative <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  clear_previous <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-polygon">polygon<a class="anchor" aria-label="anchor" href="#arg-polygon"></a></dt>
<dd><p><code>sf</code> object, "SpatialPolygon" <code>sp</code> object,  or xy coordinates
of polygon represented in a way that can be processed by <code><a href="https://rdrr.io/r/grDevices/xy.coords.html" class="external-link">xy.coords()</a></code>.  If
xy-coordinate based polygons are open, they will be closed by adding an
edge from the last point to the first.</p></dd>


<dt id="arg-extent">extent<a class="anchor" aria-label="anchor" href="#arg-extent"></a></dt>
<dd><p>Either an object representing the spatial extent of the 3D scene
(either from the <code>raster</code>, <code>terra</code>, <code>sf</code>, or <code>sp</code> packages),
a length-4 numeric vector specifying <code>c("xmin", "xmax", "ymin", "ymax")</code>, or the spatial object (from
the previously aforementioned packages) which will be automatically converted to an extent object.</p></dd>


<dt id="arg-material">material<a class="anchor" aria-label="anchor" href="#arg-material"></a></dt>
<dd><p>Default <code>"grey80"</code>. If a color string, this will specify the color of the sides/base of the polygon.
Alternatively (for more customization), this can be a r<code>ayvertex::material_list()</code> object to specify
the full color/appearance/material options for the resulting <code>ray_mesh</code> mesh.</p></dd>


<dt id="arg-bevel-material">bevel_material<a class="anchor" aria-label="anchor" href="#arg-bevel-material"></a></dt>
<dd><p>Default <code>NA</code>, defaults to the material specified in <code>material</code>. If a color string, this will specify the color of the polygon bevel.
Alternatively (for more customization), this can be a <code><a href="https://www.rayvertex.com/reference/material_list.html" class="external-link">rayvertex::material_list()</a></code> object to specify
the full color/appearance/material options for the resulting <code>ray_mesh</code> mesh.</p></dd>


<dt id="arg-angle">angle<a class="anchor" aria-label="anchor" href="#arg-angle"></a></dt>
<dd><p>Default <code>45</code>. Angle of the bevel.</p></dd>


<dt id="arg-bevel-width">bevel_width<a class="anchor" aria-label="anchor" href="#arg-bevel-width"></a></dt>
<dd><p>Default <code>5</code>. Width of the bevel.</p></dd>


<dt id="arg-width-raw-units">width_raw_units<a class="anchor" aria-label="anchor" href="#arg-width-raw-units"></a></dt>
<dd><p>Default <code>FALSE</code>. Whether the bevel width should be measured in raw display units,
or the actual units of the map.</p></dd>


<dt id="arg-bevel">bevel<a class="anchor" aria-label="anchor" href="#arg-bevel"></a></dt>
<dd><p>Default <code>NULL</code>. A list with <code>x</code>/<code>y</code> components that specify a bevel profile. See <code><a href="http://www.raybevel.com/reference/generate_bevel.html" class="external-link">raybevel::generate_bevel()</a></code></p></dd>


<dt id="arg-zscale">zscale<a class="anchor" aria-label="anchor" href="#arg-zscale"></a></dt>
<dd><p>Default <code>1</code>. The ratio between the x and y spacing (which are assumed to be equal) and the z axis in the original heightmap.</p></dd>


<dt id="arg-bevel-height">bevel_height<a class="anchor" aria-label="anchor" href="#arg-bevel-height"></a></dt>
<dd><p>Default <code>1</code>. Height from the base of the polygon to the start of the beveled top.</p></dd>


<dt id="arg-base-height">base_height<a class="anchor" aria-label="anchor" href="#arg-base-height"></a></dt>
<dd><p>Default <code>0</code>. Height of the base of the polygon.</p></dd>


<dt id="arg-raw-heights">raw_heights<a class="anchor" aria-label="anchor" href="#arg-raw-heights"></a></dt>
<dd><p>Default <code>FALSE</code>. A logical flag indicating whether the <code>bevel_heights</code> are already
in raw format and do not need to be multiplied by the maximum time of the skeleton.
See the documentation for <code><a href="http://www.raybevel.com/reference/generate_beveled_polygon.html" class="external-link">raybevel::generate_beveled_polygon()</a></code> for more info.</p></dd>


<dt id="arg-raw-offsets">raw_offsets<a class="anchor" aria-label="anchor" href="#arg-raw-offsets"></a></dt>
<dd><p>Default <code>FALSE</code>. A logical flag indicating whether the <code>bevel_offsets</code> are already
in raw format and do not need to be multiplied by the maximum time of the skeleton.
See the documentation for <code><a href="http://www.raybevel.com/reference/generate_beveled_polygon.html" class="external-link">raybevel::generate_beveled_polygon()</a></code> for more info.</p></dd>


<dt id="arg-heights-relative-to-centroid">heights_relative_to_centroid<a class="anchor" aria-label="anchor" href="#arg-heights-relative-to-centroid"></a></dt>
<dd><p>Default <code>FALSE</code>. Whether the heights should be measured in absolute
terms, or relative to the centroid of the polygon.</p></dd>


<dt id="arg-set-max-height">set_max_height<a class="anchor" aria-label="anchor" href="#arg-set-max-height"></a></dt>
<dd><p>Default <code>FALSE</code>. A logical flag that controls whether to set the max height of the roof based on the <code>max_height</code> argument.</p></dd>


<dt id="arg-max-height">max_height<a class="anchor" aria-label="anchor" href="#arg-max-height"></a></dt>
<dd><p>Default <code>1</code>. The maximum height of the polygon.</p></dd>


<dt id="arg-scale-all-max">scale_all_max<a class="anchor" aria-label="anchor" href="#arg-scale-all-max"></a></dt>
<dd><p>Default <code>FALSE</code>. If passing in a list of multiple skeletons with polygons, whether to scale each polygon to the overall
max height, or whether to scale each max height to the maximum internal distance in the polygon.</p></dd>


<dt id="arg-data-column-top">data_column_top<a class="anchor" aria-label="anchor" href="#arg-data-column-top"></a></dt>
<dd><p>Default <code>NULL</code>. A string indicating the column in the <code>sf</code> object to use
to specify the top of the beveled polygon.</p></dd>


<dt id="arg-data-column-bottom">data_column_bottom<a class="anchor" aria-label="anchor" href="#arg-data-column-bottom"></a></dt>
<dd><p>Default <code>NULL</code>. A string indicating the column in the <code>sf</code> object to use
to specify the bottom of the beveled polygon.</p></dd>


<dt id="arg-heightmap">heightmap<a class="anchor" aria-label="anchor" href="#arg-heightmap"></a></dt>
<dd><p>Default <code>NULL</code>. Automatically extracted from the rgl window–only use if auto-extraction
of matrix extent isn't working. A two-dimensional matrix, where each entry in the matrix is the elevation at that point.
All points are assumed to be evenly spaced.</p></dd>


<dt id="arg-scale-data">scale_data<a class="anchor" aria-label="anchor" href="#arg-scale-data"></a></dt>
<dd><p>Default <code>1</code>. If specifying <code>data_column_top</code> or <code>data_column_bottom</code>, how
much to scale that value when rendering.</p></dd>


<dt id="arg-holes">holes<a class="anchor" aria-label="anchor" href="#arg-holes"></a></dt>
<dd><p>Default <code>0</code>. If passing in a polygon directly, this specifies which index represents
the holes in the polygon. See the <code>earcut</code> function in the <code>decido</code> package for more information.</p></dd>


<dt id="arg-alpha">alpha<a class="anchor" aria-label="anchor" href="#arg-alpha"></a></dt>
<dd><p>Default <code>1</code>. Transparency of the polygons.</p></dd>


<dt id="arg-lit">lit<a class="anchor" aria-label="anchor" href="#arg-lit"></a></dt>
<dd><p>Default <code>TRUE</code>. Whether to light the polygons.</p></dd>


<dt id="arg-flat-shading">flat_shading<a class="anchor" aria-label="anchor" href="#arg-flat-shading"></a></dt>
<dd><p>Default <code>FALSE</code>. Set to <code>TRUE</code> to have nicer shading on the 3D polygons. This comes
with the slight penalty of increasing the memory use of the scene due to vertex duplication. This
will not affect software or high quality renders.</p></dd>


<dt id="arg-light-altitude">light_altitude<a class="anchor" aria-label="anchor" href="#arg-light-altitude"></a></dt>
<dd><p>Default <code>c(45, 30)</code>. Degree(s) from the horizon from which to light the polygons.</p></dd>


<dt id="arg-light-direction">light_direction<a class="anchor" aria-label="anchor" href="#arg-light-direction"></a></dt>
<dd><p>Default <code>c(315, 225)</code>. Degree(s) from north from which to light the polygons.</p></dd>


<dt id="arg-light-intensity">light_intensity<a class="anchor" aria-label="anchor" href="#arg-light-intensity"></a></dt>
<dd><p>Default <code>1</code>. Intensity of the specular highlight on the polygons.</p></dd>


<dt id="arg-light-relative">light_relative<a class="anchor" aria-label="anchor" href="#arg-light-relative"></a></dt>
<dd><p>Default <code>FALSE</code>. Whether the light direction should be taken relative to the camera,
or absolute.</p></dd>


<dt id="arg-clear-previous">clear_previous<a class="anchor" aria-label="anchor" href="#arg-clear-previous"></a></dt>
<dd><p>Default <code>FALSE</code>. If <code>TRUE</code>, it will clear all existing polygons.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments to pass to <code><a href="https://dmurdoch.github.io/rgl/dev/reference/primitives.html" class="external-link">rgl::triangles3d()</a></code>.</p></dd>

</dl></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># This function can also create fake "terrain" from polygons by visualizing the distance</span></span></span>
<span class="r-in"><span><span class="co"># to the nearest edge.</span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="run_documentation.html">run_documentation</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co">#Render the county borders as polygons in Monterey Bay as terrain</span></span></span>
<span class="r-in"><span><span class="va">montereybay</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="sphere_shade.html">sphere_shade</a></span><span class="op">(</span>texture <span class="op">=</span> <span class="st">"desert"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_shadow.html">add_shadow</a></span><span class="op">(</span><span class="fu"><a href="ray_shade.html">ray_shade</a></span><span class="op">(</span><span class="va">montereybay</span>,zscale <span class="op">=</span> <span class="fl">50</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="plot_3d.html">plot_3d</a></span><span class="op">(</span><span class="va">montereybay</span>, water <span class="op">=</span> <span class="cn">TRUE</span>, windowsize <span class="op">=</span> <span class="fl">800</span>, watercolor <span class="op">=</span> <span class="st">"dodgerblue"</span>,</span></span>
<span class="r-in"><span>          background <span class="op">=</span> <span class="st">"pink"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#We will apply a negative buffer to create space between adjacent polygons. You may</span></span></span>
<span class="r-in"><span><span class="co">#have to call `sf::sf_use_s2(FALSE)` before running this code to get it to run.</span></span></span>
<span class="r-in"><span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/s2.html" class="external-link">sf_use_s2</a></span><span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mont_county_buff</span> <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_unary.html" class="external-link">st_simplify</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_unary.html" class="external-link">st_buffer</a></span><span class="op">(</span><span class="va">monterey_counties_sf</span>,<span class="op">-</span><span class="fl">0.003</span><span class="op">)</span>, dTolerance<span class="op">=</span><span class="fl">0.001</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">render_beveled_polygons</span><span class="op">(</span><span class="va">mont_county_buff</span>,  flat_shading  <span class="op">=</span> <span class="cn">TRUE</span>, angle <span class="op">=</span> <span class="fl">45</span> ,</span></span>
<span class="r-in"><span>                        heightmap <span class="op">=</span> <span class="va">montereybay</span>, bevel_width<span class="op">=</span><span class="fl">2000</span>,</span></span>
<span class="r-in"><span>                        material <span class="op">=</span> <span class="st">"red"</span>,</span></span>
<span class="r-in"><span>                        extent <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">montereybay</span>,<span class="st">"extent"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                        bevel_height <span class="op">=</span> <span class="fl">5000</span>, base_height<span class="op">=</span><span class="fl">0</span>,</span></span>
<span class="r-in"><span>                        zscale<span class="op">=</span><span class="fl">200</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="render_camera.html">render_camera</a></span><span class="op">(</span>theta <span class="op">=</span> <span class="fl">0</span>,  phi <span class="op">=</span> <span class="fl">90</span>, zoom <span class="op">=</span> <span class="fl">0.65</span>, fov <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="render_snapshot.html">render_snapshot</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="render_camera.html">render_camera</a></span><span class="op">(</span>theta<span class="op">=</span><span class="fl">194</span>, phi<span class="op">=</span> <span class="fl">35</span>,   zoom <span class="op">=</span> <span class="fl">0.5</span>, fov<span class="op">=</span> <span class="fl">80</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="render_snapshot.html">render_snapshot</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> `montereybay` dataset used with no zscale--setting `zscale=50`.  For a realistic depiction, raise `zscale` to 200.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>st_buffer does not correctly buffer longitude/latitude data</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> dist is assumed to be in decimal degrees (arc_degrees).</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>st_simplify does not correctly simplify longitude/latitude data, dTolerance needs to be in decimal degrees</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>st_centroid assumes attributes are constant over geometries</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>st_centroid does not give correct centroids for longitude/latitude data</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> All `bevel_offset` greater than max offset in polygon of 6.905772, calculating full polygon model</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> All `bevel_offset` greater than max offset in polygon of 5.186830, calculating full polygon model</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> All `bevel_offset` greater than max offset in polygon of 4.704823, calculating full polygon model</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> All `bevel_offset` greater than max offset in polygon of 0.720301, calculating full polygon model</span>
<span class="r-plt img"><img src="render_beveled_polygons-1.png" alt="" width="768" height="768"></span>
<span class="r-plt img"><img src="render_beveled_polygons-2.png" alt="" width="768" height="768"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Changing the color of the beveled top:</span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="run_documentation.html">run_documentation</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu">render_beveled_polygons</span><span class="op">(</span><span class="va">mont_county_buff</span>,  flat_shading  <span class="op">=</span> <span class="cn">TRUE</span>, angle <span class="op">=</span> <span class="fl">45</span> ,</span></span>
<span class="r-in"><span>                        heightmap <span class="op">=</span> <span class="va">montereybay</span>, bevel_width<span class="op">=</span><span class="fl">2000</span>,</span></span>
<span class="r-in"><span>                        material <span class="op">=</span> <span class="st">"tan"</span>, bevel_material <span class="op">=</span> <span class="st">"darkgreen"</span>,</span></span>
<span class="r-in"><span>                        extent <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">montereybay</span>,<span class="st">"extent"</span><span class="op">)</span>, clear_previous<span class="op">=</span><span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                        bevel_height <span class="op">=</span> <span class="fl">5000</span>, base_height<span class="op">=</span><span class="fl">0</span>,</span></span>
<span class="r-in"><span>                        zscale<span class="op">=</span><span class="fl">200</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>st_centroid assumes attributes are constant over geometries</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>st_centroid does not give correct centroids for longitude/latitude data</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> All `bevel_offset` greater than max offset in polygon of 6.905772, calculating full polygon model</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> All `bevel_offset` greater than max offset in polygon of 5.186830, calculating full polygon model</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> All `bevel_offset` greater than max offset in polygon of 4.704823, calculating full polygon model</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> All `bevel_offset` greater than max offset in polygon of 0.720301, calculating full polygon model</span>
<span class="r-in"><span><span class="co"># We can create a nice curved surface by passing in a bevel generated with the</span></span></span>
<span class="r-in"><span><span class="co"># `raybevel::generate_bevel()` function.</span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="run_documentation.html">run_documentation</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu">render_beveled_polygons</span><span class="op">(</span><span class="va">mont_county_buff</span>, flat_shading  <span class="op">=</span> <span class="cn">TRUE</span>, heightmap <span class="op">=</span> <span class="va">montereybay</span>,</span></span>
<span class="r-in"><span>                        bevel <span class="op">=</span> <span class="fu">raybevel</span><span class="fu">::</span><span class="fu"><a href="http://www.raybevel.com/reference/generate_bevel.html" class="external-link">generate_bevel</a></span><span class="op">(</span><span class="st">"exp"</span>,bevel_end <span class="op">=</span> <span class="fl">0.4</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                        <span class="co">#max_height = 10, scale_all_max = TRUE, set_max_height = TRUE,</span></span></span>
<span class="r-in"><span>                        material <span class="op">=</span> <span class="fu">rayvertex</span><span class="fu">::</span><span class="fu"><a href="https://www.rayvertex.com/reference/material_list.html" class="external-link">material_list</a></span><span class="op">(</span>diffuse<span class="op">=</span><span class="st">"red"</span>,</span></span>
<span class="r-in"><span>                                                            ambient <span class="op">=</span> <span class="st">"darkred"</span>,</span></span>
<span class="r-in"><span>                                                            diffuse_intensity <span class="op">=</span> <span class="fl">0.2</span>,</span></span>
<span class="r-in"><span>                                                            ambient_intensity <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                        light_intensity <span class="op">=</span> <span class="fl">1</span>, light_relative <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                        extent <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">montereybay</span>,<span class="st">"extent"</span><span class="op">)</span>, bevel_height <span class="op">=</span> <span class="fl">5000</span>,</span></span>
<span class="r-in"><span>                        base_height<span class="op">=</span><span class="fl">0</span>, clear_previous <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                        zscale<span class="op">=</span><span class="fl">200</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="render_snapshot.html">render_snapshot</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>st_centroid assumes attributes are constant over geometries</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>st_centroid does not give correct centroids for longitude/latitude data</span>
<span class="r-plt img"><img src="render_beveled_polygons-3.png" alt="" width="768" height="768"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># While the bevels all start at the same point in the above example,</span></span></span>
<span class="r-in"><span><span class="co"># they rise to different levels due to being scaled by the maximum internal distance</span></span></span>
<span class="r-in"><span><span class="co"># in the polygon. Setting `scale_all_max = TRUE` ensures the bevels are all scaled to the</span></span></span>
<span class="r-in"><span><span class="co"># same maximum height (in this case, 3000m above the 5000m bevel start height).</span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="run_documentation.html">run_documentation</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu">render_beveled_polygons</span><span class="op">(</span><span class="va">mont_county_buff</span>, flat_shading  <span class="op">=</span> <span class="cn">TRUE</span>, heightmap <span class="op">=</span> <span class="va">montereybay</span>,</span></span>
<span class="r-in"><span>                 bevel <span class="op">=</span> <span class="fu">raybevel</span><span class="fu">::</span><span class="fu"><a href="http://www.raybevel.com/reference/generate_bevel.html" class="external-link">generate_bevel</a></span><span class="op">(</span><span class="st">"exp"</span>,bevel_end <span class="op">=</span> <span class="fl">0.4</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                 max_height <span class="op">=</span> <span class="fl">3000</span>, scale_all_max <span class="op">=</span> <span class="cn">TRUE</span>, set_max_height <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                 material <span class="op">=</span> <span class="fu">rayvertex</span><span class="fu">::</span><span class="fu"><a href="https://www.rayvertex.com/reference/material_list.html" class="external-link">material_list</a></span><span class="op">(</span>diffuse<span class="op">=</span><span class="st">"red"</span>,</span></span>
<span class="r-in"><span>                                                     ambient <span class="op">=</span> <span class="st">"darkred"</span>,</span></span>
<span class="r-in"><span>                                                     diffuse_intensity <span class="op">=</span> <span class="fl">0.2</span>,</span></span>
<span class="r-in"><span>                                                     ambient_intensity <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                 light_intensity <span class="op">=</span> <span class="fl">1</span>, light_relative <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                 extent <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">montereybay</span>,<span class="st">"extent"</span><span class="op">)</span>, bevel_height <span class="op">=</span> <span class="fl">5000</span>,</span></span>
<span class="r-in"><span>                 base_height<span class="op">=</span><span class="fl">0</span>, clear_previous <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                 zscale<span class="op">=</span><span class="fl">200</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="render_snapshot.html">render_snapshot</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>st_centroid assumes attributes are constant over geometries</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>st_centroid does not give correct centroids for longitude/latitude data</span>
<span class="r-plt img"><img src="render_beveled_polygons-4.png" alt="" width="768" height="768"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Rendering the polygons with `render_highquality()`</span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="run_documentation.html">run_documentation</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="render_highquality.html">render_highquality</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-plt img"><img src="render_beveled_polygons-5.png" alt="" width="768" height="768"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># We can scale the size of the polygon to a column in the `sf` object as well:</span></span></span>
<span class="r-in"><span><span class="co"># raybevel::generate_bevel() function. We can scale this data down using the `scale_data`</span></span></span>
<span class="r-in"><span><span class="co"># argument. Note that this is applied as well as the `zscale` argument, and that you</span></span></span>
<span class="r-in"><span><span class="co"># must think carefully about your scales and values if trying to represent a meaningful</span></span></span>
<span class="r-in"><span><span class="co"># data visualization with this object.</span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="run_documentation.html">run_documentation</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu">render_beveled_polygons</span><span class="op">(</span><span class="va">mont_county_buff</span>,  flat_shading  <span class="op">=</span> <span class="cn">TRUE</span>, angle <span class="op">=</span> <span class="fl">45</span>, bevel_width<span class="op">=</span><span class="fl">1000</span>,</span></span>
<span class="r-in"><span>                 data_column_top <span class="op">=</span> <span class="st">"ALAND"</span>, scale_data <span class="op">=</span> <span class="fl">1e-5</span>, heightmap <span class="op">=</span> <span class="va">montereybay</span>,</span></span>
<span class="r-in"><span>                 <span class="co">#max_height = 1000, scale_all_max = TRUE, set_max_height = TRUE,</span></span></span>
<span class="r-in"><span>                 material <span class="op">=</span> <span class="fu">rayvertex</span><span class="fu">::</span><span class="fu"><a href="https://www.rayvertex.com/reference/material_list.html" class="external-link">material_list</a></span><span class="op">(</span>diffuse<span class="op">=</span><span class="st">"red"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                 light_intensity <span class="op">=</span> <span class="fl">1</span>, light_relative <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                 extent <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">montereybay</span>,<span class="st">"extent"</span><span class="op">)</span>, clear_previous <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                 zscale<span class="op">=</span><span class="fl">200</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="render_snapshot.html">render_snapshot</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>st_centroid assumes attributes are constant over geometries</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>st_centroid does not give correct centroids for longitude/latitude data</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> All `bevel_offset` greater than max offset in polygon of 4.704823, calculating full polygon model</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> All `bevel_offset` greater than max offset in polygon of 0.720301, calculating full polygon model</span>
<span class="r-plt img"><img src="render_beveled_polygons-6.png" alt="" width="768" height="768"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://www.tylermw.com" class="external-link">Tyler Morgan-Wall</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

      </footer></div>






  </body></html>

