<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Render Snapshot of 3D Visualization — render_snapshot • rayshader</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Render Snapshot of 3D Visualization — render_snapshot"><meta property="og:description" content="Either captures the current rgl view and displays, or saves the current view to disk."><meta property="og:image" content="https://www.rayshader.com/reference/figures/website.jpg"><meta property="og:image:alt" content="Picture of a 3D map made with rayshader"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@tylermorganwall"><meta name="twitter:site" content="@tylermorganwall"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rayshader</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.34.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Tutorials/Blog Posts
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="https://www.tylermw.com/adding-open-street-map-data-to-rayshader-maps-in-r/" class="external-link">Tutorial: Adding Open Street Map Data to Rayshader Maps in R</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/a-step-by-step-guide-to-making-3d-maps-with-satellite-imagery-in-r/" class="external-link">A Step-by-Step Guide to Making 3D Maps with Satellite Imagery in R</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/3d-ggplots-with-rayshader/" class="external-link">Introducing 3D ggplots with rayshader</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/portrait-mode-data/" class="external-link">Portrait Mode for Data: Rayshader + Rayfocus</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/3d-printing-rayshader/" class="external-link">From R to Reality: 3D Printing Maps with Rayshader</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/3d-maps-with-rayshader/" class="external-link">Slicing Through Monterey Bay: Creating 3D Maps with Rayshader</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/making-beautiful-maps/" class="external-link">Draining Lake Mead: Making Beautiful Maps with Rayshader</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/throwing-shade/" class="external-link">Throwing Shade at the Cartographer Illuminati: Raytracing the Washington Monument in R</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    Changelog
  </a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    functions
  </a>
</li>
<li>
  <a href="https://github.com/tylermorganwall/rayshader" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
    GitHub
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Render Snapshot of 3D Visualization</h1>
    <small class="dont-index">Source: <a href="https://github.com/tylermorganwall/rayshader/blob/HEAD/R/render_snapshot.R" class="external-link"><code>R/render_snapshot.R</code></a></small>
    <div class="hidden name"><code>render_snapshot.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Either captures the current rgl view and displays, or saves the current view to disk.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">render_snapshot</span><span class="op">(</span></span>
<span>  <span class="va">filename</span>,</span>
<span>  clear <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  title_text <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  title_offset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">20</span><span class="op">)</span>,</span>
<span>  title_color <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  title_size <span class="op">=</span> <span class="fl">30</span>,</span>
<span>  title_font <span class="op">=</span> <span class="st">"sans"</span>,</span>
<span>  title_bar_color <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  title_bar_alpha <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  title_position <span class="op">=</span> <span class="st">"northwest"</span>,</span>
<span>  image_overlay <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  vignette <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  vignette_color <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  vignette_radius <span class="op">=</span> <span class="fl">1.3</span>,</span>
<span>  instant_capture <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  bring_to_front <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  keep_user_par <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  webshot <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  width <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  height <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  software_render <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  camera_location <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  camera_lookat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>  background <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  text_angle <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  text_size <span class="op">=</span> <span class="fl">30</span>,</span>
<span>  text_offset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>  point_radius <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  line_offset <span class="op">=</span> <span class="fl">1e-07</span>,</span>
<span>  thick_lines <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  line_radius <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  cache_filename <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  new_page <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  print_scene_info <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  fsaa <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>filename</dt>
<dd><p>Filename of snapshot. If missing, will display to current device.</p></dd>


<dt>clear</dt>
<dd><p>Default `FALSE`. If `TRUE`, the current `rgl` device will be cleared.</p></dd>


<dt>title_text</dt>
<dd><p>Default `NULL`. Text. Adds a title to the image, using magick::image_annotate.</p></dd>


<dt>title_offset</dt>
<dd><p>Default `c(20,20)`. Distance from the top-left (default, `gravity` direction in 
image_annotate) corner to offset the title.</p></dd>


<dt>title_color</dt>
<dd><p>Default `black`. Font color.</p></dd>


<dt>title_size</dt>
<dd><p>Default `30`. Font size in pixels.</p></dd>


<dt>title_font</dt>
<dd><p>Default `sans`. String with font family such as "sans", "mono", "serif", "Times", "Helvetica", 
"Trebuchet", "Georgia", "Palatino" or "Comic Sans".</p></dd>


<dt>title_bar_color</dt>
<dd><p>Default `NULL`. If a color, this will create a colored bar under the title.</p></dd>


<dt>title_bar_alpha</dt>
<dd><p>Default `0.5`. Transparency of the title bar.</p></dd>


<dt>title_position</dt>
<dd><p>Default `northwest`. Position of the title.</p></dd>


<dt>image_overlay</dt>
<dd><p>Default `NULL`. Either a string indicating the location of a png image to overlay
over the image (transparency included), or a 4-layer RGBA array. This image will be resized to the 
dimension of the image if it does not match exactly.</p></dd>


<dt>vignette</dt>
<dd><p>Default `FALSE`. If `TRUE` or numeric, a camera vignetting effect will be added to the image.
`1` is the darkest vignetting, while `0` is no vignetting. If vignette is a length-2 vector, the second entry will
control the blurriness of the vignette effect.</p></dd>


<dt>vignette_color</dt>
<dd><p>Default `"black"`. Color of the vignette.</p></dd>


<dt>vignette_radius</dt>
<dd><p>Default `1.3`. Radius of the vignette, as a porportion of the image dimensions.</p></dd>


<dt>instant_capture</dt>
<dd><p>Default `TRUE` if interactive, `FALSE` otherwise. If `FALSE`, a slight delay is added 
before taking the snapshot. This can help stop prevent rendering issues when running scripts.</p></dd>


<dt>bring_to_front</dt>
<dd><p>Default `FALSE`. Whether to bring the window to the front when taking the snapshot.</p></dd>


<dt>keep_user_par</dt>
<dd><p>Default `TRUE`. Whether to keep the user's `par()` settings. Set to `FALSE` if you 
want to set up a multi-pane plot (e.g. set `par(mfrow)`).</p></dd>


<dt>webshot</dt>
<dd><p>Default `FALSE`. Set to `TRUE` to have rgl use the `webshot2` package to take images,
which can be used when `rgl.useNULL = TRUE`.</p></dd>


<dt>width</dt>
<dd><p>Default `NULL`. Optional argument to pass to `rgl::snapshot3d()` to specify the
width when `software_render = TRUE`..</p></dd>


<dt>height</dt>
<dd><p>Default `NULL`. Optional argument to pass to `rgl::snapshot3d()` to specify the
height when `software_render = TRUE`.</p></dd>


<dt>software_render</dt>
<dd><p>Default `FALSE`. If `TRUE`, rayshader will use the rayvertex package to render the snapshot, which
is not constrained by the screen size or requires OpenGL. 
Consider settings a `cache_filename` so a new OBJ file doesn't have to be written with every snapshot.</p></dd>


<dt>camera_location</dt>
<dd><p>Default `NULL`. Custom position of the camera. The `FOV`, `width`, and `height` arguments will still
be derived from the rgl window.</p></dd>


<dt>camera_lookat</dt>
<dd><p>Default `NULL`. Custom point at which the camera is directed. The `FOV`, `width`, and `height` arguments will still
be derived from the rgl window.</p></dd>


<dt>background</dt>
<dd><p>Default `NULL`, defaults to device background. Background color when `software_render = TRUE`.</p></dd>


<dt>text_angle</dt>
<dd><p>Default `NULL`, which forces the text always to face the camera. If a single angle (degrees),
will specify the absolute angle all the labels are facing. If three angles, this will specify all three orientations
(relative to the x,y, and z axes) of the text labels.</p></dd>


<dt>text_size</dt>
<dd><p>Default `30`. Height of the text.</p></dd>


<dt>text_offset</dt>
<dd><p>Default `c(0,0,0)`. Offset to be applied to all text labels.</p></dd>


<dt>point_radius</dt>
<dd><p>Default `2`. Radius of 3D points (rendered with `render_points()`.</p></dd>


<dt>line_offset</dt>
<dd><p>Default `1e-7`. Small number indicating the offset in the scene to apply to lines if using software rendering. Increase this if your lines 
aren't showing up, or decrease it if lines are appearing through solid objects.</p></dd>


<dt>thick_lines</dt>
<dd><p>Default `TRUE`. If `software_render = TRUE`, this will render path segments as thick cylinders. Otherwise, it will 
render the lines using a single-pixel anti-aliased line algorithm.</p></dd>


<dt>line_radius</dt>
<dd><p>Default `0.5`. The radius of the thick cylinders if `thick_lines = TRUE` and `software_render = TRUE`.</p></dd>


<dt>cache_filename</dt>
<dd><p>Default `NULL`. Name of temporary filename to store OBJ file, if the user does not want to rewrite the file each time.</p></dd>


<dt>new_page</dt>
<dd><p>Default `TRUE`. Whether to call `grid::grid.newpage()` before plotting the image.</p></dd>


<dt>print_scene_info</dt>
<dd><p>Default `FALSE`. If `TRUE`, it will print the position and lookat point of the camera.</p></dd>


<dt>fsaa</dt>
<dd><p>Default `1`. Integer specifying the amount of anti-aliasing applied `software_render = TRUE`.</p></dd>


<dt>...</dt>
<dd><p>Additional parameters to pass to `rayvertex::rasterize_scene()`.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>Displays snapshot of current rgl plot (or saves to disk).</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu">rayshader</span><span class="fu">:::</span><span class="fu"><a href="run_documentation.html">run_documentation</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="va">montereybay</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span> <span class="fu"><a href="sphere_shade.html">sphere_shade</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span> <span class="fu"><a href="plot_3d.html">plot_3d</a></span><span class="op">(</span><span class="va">montereybay</span>,zscale<span class="op">=</span><span class="fl">50</span>,zoom<span class="op">=</span><span class="fl">0.6</span>,theta<span class="op">=</span><span class="op">-</span><span class="fl">90</span>,phi<span class="op">=</span><span class="fl">30</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span> </span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu">rayshader</span><span class="fu">:::</span><span class="fu"><a href="run_documentation.html">run_documentation</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu">render_snapshot</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-plt img"><img src="render_snapshot-1.png" alt="" width="768" height="768"></span>
<span class="r-in"><span> </span></span>
<span class="r-in"><span><span class="co">#Create a title</span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu">rayshader</span><span class="fu">:::</span><span class="fu"><a href="run_documentation.html">run_documentation</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu">render_snapshot</span><span class="op">(</span>title_text <span class="op">=</span> <span class="st">"Monterey Bay, California"</span>, title_offset<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">20</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>               title_color <span class="op">=</span> <span class="st">"white"</span>, title_bar_color <span class="op">=</span> <span class="st">"black"</span>,</span></span>
<span class="r-in"><span>               title_font <span class="op">=</span> <span class="st">"Helvetica"</span>, title_position <span class="op">=</span> <span class="st">"north"</span><span class="op">)</span></span></span>
<span class="r-in"><span>               </span></span>
<span class="r-in"><span><span class="co">#Add a vignette effect</span></span></span>
<span class="r-in"><span><span class="fu"><a href="render_camera.html">render_camera</a></span><span class="op">(</span>zoom<span class="op">=</span><span class="fl">0.8</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">render_snapshot</span><span class="op">(</span>title_text <span class="op">=</span> <span class="st">"Monterey Bay, California"</span>, </span></span>
<span class="r-in"><span>               title_color <span class="op">=</span> <span class="st">"white"</span>, title_bar_color <span class="op">=</span> <span class="st">"darkgreen"</span>,</span></span>
<span class="r-in"><span>               vignette <span class="op">=</span> <span class="cn">TRUE</span>, title_offset<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">20</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>               title_font <span class="op">=</span> <span class="st">"Helvetica"</span>, title_position <span class="op">=</span> <span class="st">"north"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">rgl</span><span class="fu">::</span><span class="fu"><a href="https://dmurdoch.github.io/rgl/dev/reference/open3d.html" class="external-link">close3d</a></span><span class="op">(</span><span class="op">)</span> </span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-plt img"><img src="render_snapshot-2.png" alt="" width="768" height="768"></span>
<span class="r-plt img"><img src="render_snapshot-3.png" alt="" width="768" height="768"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://www.tylermw.com" class="external-link">Tyler Morgan-Wall</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

